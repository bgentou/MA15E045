<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.47">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Équipe BD">
<meta name="dcterms.date" content="2024-06-23">

<title>BD I: Introduction aux SGBD – MA15Y030 - Automne 2024</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<meta property="og:title" content="BD I: Introduction aux SGBD – MA15Y030 - Automne 2024">
<meta property="og:description" content="Bases de Données Licences MIASHS et Mathématiques">
<meta property="og:site_name" content="MA15Y030 - Automne 2024">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">BD I: Introduction aux SGBD</li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/s-v-b/MA15Y030" title="GitHub organization" class="quarto-navigation-tool px-1" aria-label="GitHub organization"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Moodle" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Moodle"><i class="bi bi-person-fill"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://moodle.u-paris.fr/course/view.php?id=2313">
            Discussion forum
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://moodle.u-paris.fr/course/view.php?id=2313">
            Dépot
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://moodle.u-paris.fr/course/view.php?id=2313">
            Notes
            </a>
          </li>
      </ul>
    </div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">Course information</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../cours-apercu.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Aperçu</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../cours-syllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Syllabus</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../cours-support.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Support</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../cours-equipe.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Équipe</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Agenda</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../cours-liens.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Liens</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../cours-faq.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">FAQ</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">Computing</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../computing-access.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Access</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../computing-dbeaver.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">dbeaver</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../computing-troubleshooting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Troubleshooting</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">Project</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../project-description.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Description</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../project-tips-resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tips + resources</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text">Weekly materials</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../weeks/week-1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 1</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Roadmap</h2>
   
  <ul>
  <li><a href="#données" id="toc-données" class="nav-link active" data-scroll-target="#données">Données ?</a></li>
  <li><a href="#systèmes-dinformation" id="toc-systèmes-dinformation" class="nav-link" data-scroll-target="#systèmes-dinformation">Systèmes d’information</a></li>
  <li><a href="#bases-de-données-et-autres-logiciels" id="toc-bases-de-données-et-autres-logiciels" class="nav-link" data-scroll-target="#bases-de-données-et-autres-logiciels">Bases de données et (autres) logiciels</a></li>
  <li><a href="#bases-de-données-relationnelles" id="toc-bases-de-données-relationnelles" class="nav-link" data-scroll-target="#bases-de-données-relationnelles">Bases de données (relationnelles)</a></li>
  <li><a href="#lidée-relationnelle" id="toc-lidée-relationnelle" class="nav-link" data-scroll-target="#lidée-relationnelle">L’idée relationnelle</a></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"></a></li>
  <li><a href="#autour-des-bases-de-données" id="toc-autour-des-bases-de-données" class="nav-link" data-scroll-target="#autour-des-bases-de-données">Autour des bases de données</a></li>
  <li><a href="#the-end" id="toc-the-end" class="nav-link" data-scroll-target="#the-end">The End</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/s-v-b/MA15Y030/edit/main/slides/BD_intro.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/s-v-b/MA15Y030/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div><div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="BD_intro.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div><div class="quarto-alternate-notebooks"><h2>Notebooks</h2><ul><li><a href="_codds-principles.embed-preview.html"><i class="bi bi-journal-code"></i>Codd’s Twelve Principles</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">BD I: Introduction aux SGBD</h1>
<p class="subtitle lead">Bases de Données Licences MIASHS et Mathématiques</p>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Équipe BD </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Université Paris Cité
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 23, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="données" class="level1" data-background-color="#1c191c">
<h1 data-background-color="#1c191c">Données ?</h1>
<section id="les-données-en-sciences-sociales" class="level2">
<h2 class="anchored" data-anchor-id="les-données-en-sciences-sociales">Les données en Sciences Sociales</h2>
<p>Pourquoi ?</p>
<p>De quoi sont faites les données ?</p>
<p>Comment les accumuler ?</p>
<p>Comment les interroger ?</p>
<p>Comment les conserver ? les éditer ?</p>
</section>
<section id="sources" class="level2">
<h2 class="anchored" data-anchor-id="sources">Sources</h2>
<p><em>Data humanities with R.</em> Arnold and Tilton</p>
<p><em>Quantitative tour at social sciences</em> Gelman and ?</p>
<p>Humanités numériques</p>
<ul>
<li><p>Constitution</p></li>
<li><p>Acquisition</p></li>
<li><p>Usage(s)</p></li>
<li><p>Maintenance</p></li>
</ul>
</section>
<section id="les-données-de-lentreprisedes-administrations" class="level2">
<h2 class="anchored" data-anchor-id="les-données-de-lentreprisedes-administrations">Les données de l’entreprise/des administrations</h2>
<div class="columns">
<div class="column">
<ul>
<li><p>La comptabilité</p></li>
<li><p>Les stocks (ERP)</p></li>
<li><p>La clientèle (CRM)</p></li>
<li><p>…</p></li>
</ul>
</div><div class="column">
<p>TODO</p>
</div>
</div>
</section>
<section id="la-vie-des-données" class="level2">
<h2 class="anchored" data-anchor-id="la-vie-des-données">La vie des données</h2>
<ul>
<li><p>Saisie</p></li>
<li><p>Traitement(s)</p></li>
<li><p>Usage(s)</p></li>
<li><p>Archivage</p></li>
<li><p>Maintenance</p></li>
</ul>
</section>
<section id="les-enjeux" class="level2">
<h2 class="anchored" data-anchor-id="les-enjeux">Les enjeux</h2>
</section>
<section id="avant-hier" class="level2">
<h2 class="anchored" data-anchor-id="avant-hier">Avant-hier</h2>
<div class="columns">
<div class="column">
<p>Les entreprises et les administrations ont toujours cultivé une mémoire sous forme de <em>fichiers</em> plus ou moins mécanisés et formattés.</p>
<p>Ces collections de fichiers mécanisées répondaient à des exigences de <em>fiabilité</em>, de <em>convenance</em> (facilité de la recherche, de la maintenance)</p>
</div><div class="column">
<p><img src="../images//pexels-mike-1181772.jpg" class="img-fluid"></p>
</div>
</div>
</section>
<section id="aujourdhui" class="level2">
<h2 class="anchored" data-anchor-id="aujourdhui">Aujourd’hui</h2>
<p>Explosion des volumes</p>
<p>Besoins <strong>mixtes</strong></p>
</section>
</section>
<section id="systèmes-dinformation" class="level1" data-background-color="#1c191c">
<h1 data-background-color="#1c191c">Systèmes d’information</h1>
<section id="systèmes-dinformation-si-et-bases-de-données-bd-sgbd-sgbdr" class="level2">
<h2 class="anchored" data-anchor-id="systèmes-dinformation-si-et-bases-de-données-bd-sgbd-sgbdr">Systèmes d’information (SI) et Bases de Données (BD, SGBD, SGBDR)</h2>
<p>Au coeur des systèmes d’information (modernes) on trouve les <strong>bases de données</strong></p>
</section>
<section id="des-propriétés-désirables-acid" class="level2">
<h2 class="anchored" data-anchor-id="des-propriétés-désirables-acid">Des propriétés désirables (ACID)</h2>
<p>Quelle que soit la forme, on souhaite avoir :</p>
<ul>
<li><p><strong>A</strong>tomicité : chaque ajout/modification d’information doit former un tout cohérent. Si tout se passe correctement, les actions de la transaction sont toutes validées, sinon on retourne à l’état initial. L’unité de travail est indivisible. Une transaction ne peut être partiellement effectuée.</p></li>
<li><p><strong>C</strong>ohérence : le contenu de la base de données doit rester conforme à des <em>contraintes</em> qui ont été définies lors de la <em>conception</em> de la base</p></li>
<li><p><strong>I</strong>solation : la bases de données doit pouvoir être utilisée concurremment par plusieurs usagers</p></li>
<li><p><strong>D</strong>urabilité : la vie d’une base de données s’étale sur plusieurs dizaines d’années</p></li>
</ul>
</section>
</section>
<section id="bases-de-données-et-autres-logiciels" class="level1" data-background-color="#1c191c">
<h1 data-background-color="#1c191c">Bases de données et (autres) logiciels</h1>
<section id="bases-de-données" class="level2">
<h2 class="anchored" data-anchor-id="bases-de-données">Bases de <strong>données</strong></h2>
<!--  -->
<!--   -->
<p>Qu’est-ce que c’est ?</p>
<p>Ce sont des logiciels intermédiaires (<em>middleware</em>) entre :</p>
<ul>
<li><p>Systèmes de gestion de fichiers/Systèmes d’exploitation</p></li>
<li><p>Applications (CRM, ERP, CMS, …)</p></li>
</ul>
<p>Les bases de données ne sont pas (simplement) un <em>langage</em> (comme <code>JAVA</code>, <!-- , )  --> ou un environnement de calcul <!-- (comme , ) --></p>
</section>
</section>
<section id="bases-de-données-relationnelles" class="level1" data-background-color="#1c191c">
<h1 data-background-color="#1c191c">Bases de données (relationnelles)</h1>
<p>Toutes les bases de données ne sont pas relationnelles</p>
<p>Les <strong>Bases de données relationnelles</strong> forment un sous-ensemble important (et même prépondérant) des systèmes de gestion des bases de données en entreprise</p>
<section id="collection-de-tablesdata-frames" class="level2">
<h2 class="anchored" data-anchor-id="collection-de-tablesdata-frames">Collection de tables/<code>data frame</code>s</h2>
<p>Caricaturalement :</p>
<blockquote class="blockquote">
<p>Une base de données relationnelle est une collection de <em>tables</em></p>
</blockquote>
<p>Les tables s’incarnent de plusieurs façons en informatique</p>
<p><code>R</code>, <code>Pandas</code>, les tableurs (<code>Excel</code> …), offrent un environnement interactif de manipulation de données et un environnement de définition de données</p>
</section>
<section id="data-frame" class="level2">
<h2 class="anchored" data-anchor-id="data-frame">Data frame</h2>
<!-- () -->
<ul>
<li><p>Un <code>dataframe</code> est une <em>liste</em> de <em>vecteurs</em> (colonnes)</p></li>
<li><p>Les vecteurs (colonnes) d’un <code>dataframe</code> sont tous de même longueur</p></li>
<li><p>Les éléments d’un vecteur sont d’un même type de base</p></li>
<li><p>Chaque vecteur a un nom et son propre type</p></li>
</ul>
</section>
<section id="autres-environments-excel-java-python" class="level2">
<h2 class="anchored" data-anchor-id="autres-environments-excel-java-python">Autres environments (<code>Excel</code>, <code>JAVA</code>, <code>Python</code>)</h2>
<!--  -->
<ul>
<li><p>Les <code>spreadsheet</code> des tableurs</p></li>
<li><p>Les <code>Dataframes</code> de <code>Pandas</code> <!-- () --></p></li>
<li><p>Les tableaux d’objets en <code>JAVA</code></p></li>
</ul>
<p>permettent de représenter ce que les <code>dataframes</code> représentent en <code>R</code> <!--  --></p>
</section>
<section id="les-sgbd-vont-au-delà" class="level2">
<h2 class="anchored" data-anchor-id="les-sgbd-vont-au-delà">Les SGBD vont au delà :</h2>
<p>Ils offrent:</p>
<ul>
<li><strong>Persistance</strong></li>
</ul>
<blockquote class="blockquote">
<p>Entre deux <em>sessions</em> les données sont confiées au système de fichiers de l’ordinateur</p>
</blockquote>
<ul>
<li><strong>Intégrité</strong></li>
</ul>
<blockquote class="blockquote">
<p>Les données confiées au système de fichiers ne peuvent pas être altérées par d’autre logiciel</p>
</blockquote>
<ul>
<li><strong>Concurrence</strong></li>
</ul>
<p>Les données peuvent être manipulées/consultées/mises à jour de manière <em>concurrente</em> par plusieurs ou du moins par une grande quantité d’ utilisateurs.</p>
</section>
<section id="usages" class="level2">
<h2 class="anchored" data-anchor-id="usages">Usages</h2>
<ul>
<li><p>Sites web dynamiques</p></li>
<li><p>Logiciels personnels</p></li>
</ul>
<p>Derrière certaines applications (gestion de photos, de carnet d’adresses, …), on trouve des bases de données légères (<code>SQLITE</code>)</p>
<ul>
<li><p>Partout</p>
<ul>
<li><p>smartphones, tablettes, …</p></li>
<li><p>web, réseaux sociaux</p></li>
<li><p>administrations (APOGEE, …)</p></li>
<li><p>entreprises (Stocks Supply Chain, Customer Relationship Management, …)</p></li>
<li><p>NSA</p></li>
</ul></li>
</ul>
</section>
</section>
<section id="lidée-relationnelle" class="level1" data-background-color="#1c191c">
<h1 data-background-color="#1c191c">L’idée relationnelle</h1>
<section id="lidée-clé-codd-1970" class="level2">
<h2 class="anchored" data-anchor-id="lidée-clé-codd-1970">L’idée clé (Codd, 1970)</h2>
<p>Organiser les informations en <strong>tables</strong> ou <strong>relations</strong></p>
<p>Développer et formaliser un langage de manipulation de tables : l’algèbre relationnelle} (langage SQL, Structured Query Language)</p>
<ul>
<li><p>L’usager peut définir l’organisation des données</p></li>
<li><p>Il peut interroger celles-ci (par des requêtes)</p></li>
<li><p>Le langage est <em>déclaratif</em> :</p>
<ul>
<li>On décrit ce que l’on veut obtenir (quoi mais pas comment)</li>
<li>Le système fait le reste…</li>
</ul></li>
<li><p>L’évaluation de toutes les requêtes s’arrête (au moins en théorie : si on y met les moyens…)</p></li>
<li><p>L’algèbre relationnelle/SQL n’est pas un langage complet (différence avec <code>JAVA</code>, <code>C</code>, <code>Python</code>, etc)</p></li>
</ul>
</section>
</section>
<section id="section" class="level1 quarto-embed-nb-cell">
<h1></h1>
<p>Stéphane Boucheron (LPSM Université Paris-Cité)</p>
<section id="codds-twelve-principles" class="level3">
<h3 class="anchored" data-anchor-id="codds-twelve-principles">Codd’s Twelve Principles</h3>
<ol type="1">
<li>Information is represented logically in <em>tables</em></li>
<li>Data must be <em>logically accessible</em> by table, primary key, and column.</li>
<li><em>Null</em> values must be uniformly treated as “missing information,” not as empty strings, blanks, or zeros.</li>
<li>Metadata (data about the database) must be stored in the database just as regular data is</li>
<li>A single language must be able to define data, views, integrity constraints, <em>authorization</em>, <em>transactions</em>, and data manipulation</li>
<li><em>Views</em> must show the updates of their <em>base tables</em> and vice versa</li>
<li>A single operation must be available to do each of the following operations: retrieve data, insert data, update data, or delete data</li>
<li>Batch and end-user operations are <em>logically separate</em> from physical storage and access methods</li>
<li>Batch and end-user operations can change the database schema without having to recreate it or the applications built upon it</li>
<li><em>Integrity</em> constraints must be available and stored in the metadata, not in an application program</li>
<li>The data manipulation language of the relational system should not care where or how the physical data is distributed and should not require alteration if the physical data is centralized or distributed</li>
<li>Any <em>row processing</em> done in the system must obey the same <em>integrity rules</em> and <em>constraints</em> that set-processing operations do</li>
</ol>
</section>
<a class="quarto-notebook-link" id="nblink-1" href="_codds-principles.embed-preview.html#ef412154-f7f7-4e52-8d04-e96ddcf7ac3a">Source: Codd’s Twelve Principles</a></section>
<section id="quelques-acteurs" class="level2">
<h2 class="anchored" data-anchor-id="quelques-acteurs">Quelques acteurs</h2>
<div class="columns">
<div class="column">
<p><strong>Serveurs</strong></p>
<ul>
<li><p><a href="">ORACLE (commercial)</a></p></li>
<li><p><a href="">DB2 (IBM commercial)</a></p></li>
<li><p><a href="">SQLSERVER (Microsoft commercial)</a></p></li>
<li><p><a href="">MySQL (open source)</a></p></li>
<li><p><a href="https://www.postgresql.org"><strong>PostGres</strong> (open source)</a></p></li>
<li><p><a href="">Hana (commercial)</a></p></li>
</ul>
</div><div class="column">
<p><strong>Clients</strong></p>
<ul>
<li><p><a href=""><code>psql</code></a></p></li>
<li><p><a href=""><code>pgcli</code></a></p></li>
<li><p><a href=""><code>dbeaver</code></a></p></li>
<li><p><a href=""><code>PgAdmin4</code></a></p></li>
<li><p>…</p></li>
</ul>
</div>
</div>
</section>
<section id="postgres-postgresql" class="level2">
<h2 class="anchored" data-anchor-id="postgres-postgresql">PostGres (PostgreSQL)</h2>
<ul>
<li><p>Un <strong>serveur</strong> : <code>etu-pgsql</code></p></li>
<li><p>Un <strong>catalogue</strong> : <code>bd_2023-24</code></p></li>
<li><p>Des <strong>schémas</strong>: <code>world, pagila, nycflights13, ...</code></p></li>
</ul>
</section>
<section id="un-exemple-de-schéma-world" class="level2">
<h2 class="anchored" data-anchor-id="un-exemple-de-schéma-world">Un exemple de schéma <code>world</code></h2>
<p>Un schema</p>
<p>Des schémas de table</p>
<ul>
<li><p><code>continent</code> : association nom de continent (texte)-code de continent (entier)</p></li>
<li><p><code>country</code> : chaque tuple porte sur un état/territoire</p></li>
<li><p><code>city</code> : chaque tuple porte sur une ville (déisgnée par <code>id</code>) qui appartient à un état/territoire désigné par <code>countrycode</code></p></li>
<li><p><code>countrylanguage</code> : chaque tuple indique la part de la population d’un état/territoire (désigné par <code>countrycode</code>) qui parle/connaît une langue (désignée par <code>language</code>) et précise si la langue est officielle dans cet état/territoire.</p></li>
</ul>
</section>
<section id="détails-du-schema-world" class="level2">
<h2 class="anchored" data-anchor-id="détails-du-schema-world">Détails du schema <code>world</code></h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../images//world.png" class="img-fluid figure-img"></p>
<figcaption>Image World</figcaption>
</figure>
</div>
<p>Un schéma de table : la donnée des noms des colonnes et des types des colonnes</p>
</section>
<section id="quelques-questions-et-propriétés-typiques" class="level2">
<h2 class="anchored" data-anchor-id="quelques-questions-et-propriétés-typiques">Quelques questions et propriétés typiques</h2>
<ul>
<li><p>Extraire de l’information</p></li>
<li><p>Assurer de la cohérence après modification</p>
<ul>
<li>Faire en sorte que chaque état/territoire soit identifié par un numéro unique</li>
<li>Faire en sorte que chaque ville soit identifiée par un numéro unique</li>
<li>Ne pas proposer de données sur des villes/territoires/états qui n’existent pas</li>
</ul></li>
<li><p>Propager l’information</p>
<ul>
<li>Historiciser le schéma</li>
</ul></li>
</ul>
</section>
<section id="objectifs-du-cours" class="level2">
<h2 class="anchored" data-anchor-id="objectifs-du-cours">Objectifs du cours</h2>
<ul>
<li><p>Compétences d’un usager de BD relationnelles</p></li>
<li><p>Exprimer des requêtes en algèbre relationnelle et en SQL</p></li>
<li><p>SQL Définition, manipulation et contrôle des données</p></li>
<li><p>Concevoir un Modèle Conceptuel de Données (Entités/Associations)</p></li>
<li><p>Déterminer les dépendances fonctionnelles et normaliser une relation</p></li>
</ul>
</section>
<section id="plan-du-cours" class="level2">
<h2 class="anchored" data-anchor-id="plan-du-cours">Plan du cours</h2>
<ul>
<li><p>Algèbre et calcul relationnels</p></li>
<li><p>SQL (algèbre relationnelle stricte)</p></li>
<li><p>SQL sous-requêtes</p></li>
<li><p>SQL agrégation</p></li>
<li><p>SQL requêtes paramétrées</p></li>
<li><p>Définition de données/Conception</p></li>
<li><p>Normalisation</p></li>
</ul>
</section>
<section id="autour-des-bases-de-données" class="level1" data-background-color="#1c191c">
<h1 data-background-color="#1c191c">Autour des bases de données</h1>
<section id="entrepôts-de-données-fin-des-années-1980" class="level2">
<h2 class="anchored" data-anchor-id="entrepôts-de-données-fin-des-années-1980">Entrepôts de données (Fin des années 1980)</h2>
<p>(Datawarehouse)</p>
<blockquote class="blockquote">
<p>Un Data Warehouse est une technologie qui regroupe des données <em>structurées</em> provenant d’une ou de plusieurs sources afin qu’elles puissent être comparées et analysées.</p>
</blockquote>
<!--   -->
<p><a href="https://fr.wikipedia.org/wiki/Entrepôt_de_données">Entrepôt_de_données sur Wikipedia</a></p>
</section>
<section id="lacs-de-données-2010" class="level2">
<h2 class="anchored" data-anchor-id="lacs-de-données-2010">Lacs de données (2010)</h2>
<p>(Datalake)</p>
<blockquote class="blockquote">
<p>Le concept de Data Lake a été évoqué pour la première fois, en 2010, par James Dixon, comme une solution pour le stockage de données sans pré-traitement et sans connaître précisément l’usage futur qui en sera fait. L’image du lac, permettant d’expliquer, que différentes sources peuvent l’alimenter de manière naturelle et brute, et que les utilisateurs peuvent y plonger pour l’explorer et en rapporter des échantillons à examiner</p>
</blockquote>
</section>
<section id="au-delà-du-relationnel-no-sql" class="level2">
<h2 class="anchored" data-anchor-id="au-delà-du-relationnel-no-sql">Au delà du relationnel: No SQL</h2>
<blockquote class="blockquote">
<p>Ce sont les grandes entreprises du web amenées à traiter des volumes de données très importants qui ont été les premières confrontées aux limitations intrinsèques des SGBD relationnels traditionnels. Ces systèmes fondés sur une application stricte des propriétés ACID et généralement conçus pour fonctionner sur des ordinateurs uniques ont rapidement posé des problèmes d’extensibilité.</p>
</blockquote>
<blockquote class="blockquote">
<p>Afin de répondre à ces limites, ces entreprises ont commencé à développer leurs propres systèmes de gestion de bases de données pouvant fonctionner sur des architectures matérielles distribuées et permettant de traiter des volumes de données importants. Les systèmes propriétaires qui en ont résulté, Google (BigTable), Amazon (Dynamo (en)), LinkedIn (Voldemort), Facebook (Cassandra puis HBase), SourceForge.net (MongoDB), Ubuntu One (CouchDB), Baidu (Hypertable) ont été les précurseurs du modèle NoSQL.</p>
</blockquote>
<blockquote class="blockquote">
<p>Les performances restent bonnes avec la montée en charge en multipliant simplement le nombre de serveurs, solution raisonnable avec la baisse des coûts, en particulier si les revenus croissent en même temps que l’activité5. Les systèmes géants sont les premiers concernés : énormes quantités de données6, structuration relationnelle faible (ou de moindre importance que la capacité d’accès très rapide, quitte à multiplier les serveurs).</p>
</blockquote>
<blockquote class="blockquote">
<p>Un modèle typique en NoSQL est le système clé-valeur, avec une base de données pouvant se résumer topologiquement à un simple tableau associatif unidimensionnel avec des millions — voire des milliards — d’entrées. Parmi les applications typiques, on retrouve des analyses temps-réel, statistiques, du stockage de logs (journaux), etc.</p>
</blockquote>
<!--   -->
<p><a href="https://fr.wikipedia.org/wiki/NoSQL">NoSQL</a></p>
</section>
<section id="lire-plus" class="level2">
<h2 class="anchored" data-anchor-id="lire-plus">Lire plus</h2>
<p><a href="https://scholar.google.com/scholar?hl=fr&amp;as_sdt=0%2C5&amp;q=harrison+next+generation+databases&amp;oq=harrison+next+">Guy Harrison. Next Generation Databases. NoSQL, NewSQL, Big Data</a></p>
<!-- {{< embed http://guyharrison.squarespace.com/blog/tag/nosql >}} -->
</section>
</section>
<section id="the-end" class="level1" data-background-color="#1c191c">
<h1 data-background-color="#1c191c">The End</h1>


</section>

</main> <!-- /main -->

<script>
  // htmlwidgets need to know to resize themselves when slides are shown/hidden.
  // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
  // slide changes (different for each slide format).
  (function () {
    // dispatch for htmlwidgets
    function fireSlideEnter() {
      const event = window.document.createEvent("Event");
      event.initEvent("slideenter", true, true);
      window.document.dispatchEvent(event);
    }

    function fireSlideChanged(previousSlide, currentSlide) {
      fireSlideEnter();

      // dispatch for shiny
      if (window.jQuery) {
        if (previousSlide) {
          window.jQuery(previousSlide).trigger("hidden");
        }
        if (currentSlide) {
          window.jQuery(currentSlide).trigger("shown");
        }
      }
    }

    // hookup for slidy
    if (window.w3c_slidy) {
      window.w3c_slidy.add_observer(function (slide_num) {
        // slide_num starts at position 1
        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
      });
    }

  })();
</script>

<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/s-v-b\.github\.io\/MA15Y030\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© Copyright 2024, Stéphane Boucheron</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/s-v-b/MA15Y030/edit/main/slides/BD_intro.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/s-v-b/MA15Y030/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>This page is built with blood, sweat, tears, and <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>




</body></html>