{
  "hash": "4ea2920ea945c09a20843680b4861902",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"TD 10: Normalisation\"\nsubtitle: \"Normalisation, Perte de DF, Perte d'Information, FNBC, FN3\"\ncategories: [Normalisation, Perte de DF, \"Perte d'Information\", FNBC, FN3]\ndate: \"2024-11-29\"\n\n\nformat:\n  pdf:\n    code-annotations: below\n    keep-tex: false\n    code-fold: false\n    toc: false\n    output-file: td10.pdf\n    include-in-header:\n      - text: \"\\\\lhead{{\\\\sf  Base de données \\\\\\\\ TD 10}}\"\n  html:\n    embed-resources: true\n    code-fold: true\n    output-file: td10.html\nparams:\n    year: 2024 \n    curriculum: \"L3 MIASHS/Ingémath\"\n    university: \"Université Paris Cité\"\n    homepage: \"https://s-v-b.github.io/MA15Y030/\"\n    moodle: \"https://moodle.u-paris.fr/course/view.php?id=2313\"\n---\n\n\n\n\n\n\n::: {.content-visible when-profile='solution'} \n\n::: {.callout-warning}\n\n### Avec solutions\n\n::: \n\n:::\n\n\n::: {layout=\"[80,20]\"}\n\n::: {#first-column}\n\n\n\n- **L3 MIASHS/Ingémath**\n- **[Université Paris Cité](https://www.u-paris.fr)**\n- Année 2024-2025\n- [Course Homepage](https://s-v-b.github.io/MA15Y030/)  \n- [Moodle](https://moodle.u-paris.fr/course/view.php?id=2313)\n\n::: \n\n::: {#second-column}\n![](../images/UniversiteParis_monogramme_couleur_RVB.png){align=\"right\" style=\"size:50px;\" width=75}\n:::\n\n:::\n\n\n\n\n\n### Exercice\n\nSoit $\\mathcal{A}=\\left\\{A,B,C,D,E\\right\\}$ un schéma et soit $\\mathcal{A}_1=\\left\\{A,B,C\\right\\}$.\nPour chaque ensemble $\\Sigma$ de dépendances fonctionnelles ci-dessous, déterminer un ensemble de DF\néquivalent à $\\pi_{\\mathcal{A}_1}(\\Sigma)$.\n\n\n\n- $\\Sigma=\\left\\{AB\\to DE, C\\to E, D\\to C, E\\to A\\right\\}$\n- $\\Sigma=\\left\\{A\\to D, BD\\to E, AC\\to E, DE\\to B\\right\\}$\n- $\\Sigma=\\left\\{AB\\to D, AC\\to E, BC\\to D, D\\to A, E\\to B\\right\\}$\n- $\\Sigma=\\left\\{A\\to B, B\\to C, C\\to D, D\\to E, E\\to A\\right\\}$\n\n\n::: {.content-visible when-profile=\"solution\"}\n\n::: {.callout-tip title=\"Solution\"}\n\n\nRappelons que $\\pi_{\\mathcal{A}_1}(\\Sigma)$ est l'ensemble des DF de la forme $X\\to Y$, avec\n$X\\subset\\mathcal{A}_1$ et $Y\\subset\\mathcal{A}_1$, qui sont impliquées par $\\Sigma$. Un ensemble de DF équivalent à $\\pi_{\\mathcal{A}_1}(\\Sigma)$ est l'ensemble des DF $X\\to (X^+\\cap\\mathcal{A}_1)\\setminus X$ où $X\\subset\\mathcal{A}_1$, $X\\not=\\emptyset$ et $X\\not=\\mathcal{A}_1$.\n\n\n- $A^+=A$, $B^+=B$, $C^+=CEA$ donc on ajoute $\\boxed{C\\to A}$\\\\\n$AB^+=ABDEC$ donc on ajoute $\\boxed{AB\\to C}$\\\\\n$AC^+=ACE$, $BC^+=BCEAD$ donc on ajoute $\\boxed{BC\\to A}$\\\\\nDonc $\\pi_{\\mathcal{A}_1}(\\Sigma)$ est équivalent à\n$\\left\\{C\\to A, AB\\to C, BC\\to A\\right\\}$ lui-même équivalent à\n$\\left\\{AB\\to C, C\\to A\\right\\}$.\n\n- $A^+=AD$, $B^+=B$, $C^+=C$ rien à ajouter\\\\\n$AB^+=ABDE$, $AC^+=ACDEB$ donc on ajoute $\\boxed{AC \\to B}$\\\\\n$BC^+=BC$\\\\\nDonc $\\pi_{\\mathcal{A}_1}(\\Sigma)$ est équivalent à $\\left\\{aC \\to B\\right\\}$.\n\n- $A^+=A$, $B^+=B$, $C^+=C$ rien à ajouter\\\\\n$AB^+=ABD$, $AC^+=ACEBD$ donc on ajoute $\\boxed{AC \\to B}$\\\\\n$BC^+=BCDAE$ donc on ajoute $\\boxed{BC \\to A}$ \\\\\nDonc $\\pi_{\\mathcal{A}_1}(\\Sigma)$ est équivalent à $\\left\\{aC \\to B, BC\\to A\\right\\}$.\n\n- Tout attribut est une clef, donc c'est aussi le cas pour $\\mathcal{A}_1$.\n$\\pi_{\\mathcal{A}_1}(\\Sigma)$ est donc équivalent à $\\left\\{a\\to B, B\\to C, C\\to A\\right\\}$.\n\n\n:::\n\n:::\n\n\n### Exercice\n\nSoit $\\mathcal{A}=\\left\\{A,B,C,D,E\\right\\}$ un schéma et soit la décomposition $\\left\\{\\mathcal{A}_1,\\mathcal{A}_2,\\mathcal{A}_3\\right\\}$ où\n$$\\mathcal{A}_1=\\left\\{A,B,C\\right\\}\\quad \\mathcal{A}_2=\\left\\{B,C,D\\right\\}\\quad \\mathcal{A}_3=\\left\\{A,C,E\\right\\}$$\nPour chaque ensemble $\\Sigma$ de dépendances fonctionnelles ci-dessous, déterminer quelles dépendances\nsont préservées par cette décomposition, c'est-à-dire quelles DF de $\\Sigma$ sont impliquées par\n$\\bigcup_{i=1}^3 \\pi_{\\mathcal{A}_i}(\\Sigma)$.\n\n\n- $\\Sigma=\\left\\{b\\rightarrow E, CE\\rightarrow A\\right\\}$\n- $\\Sigma=\\left\\{aC\\rightarrow E, BC\\to D\\right\\}$\n- $\\Sigma=\\left\\{a\\rightarrow D, D\\to E, B\\to D\\right\\}$\n- $\\Sigma=\\left\\{a\\rightarrow D, CD\\to E, E\\to D\\right\\}$\n\n\n::: {.content-visible when-profile=\"solution\"}\n\n::: {.callout-tip title=\"Solution\"}\n\nLa DF $X\\to Y$ est préservée si et seulement la fermeture de $X$ par rapport aux DF locales\n$\\bigcup_{i=1}^3 \\pi_{\\mathcal{A}_i}(\\Sigma)$ contient $Y$.\nPour calculer la fermeture de $X$ par rapport aux DF locales\n$\\bigcup_{i=1}^3 \\pi_{\\mathcal{A}_i}(\\Sigma)$ on peut utiliser l'algorithme suivant~:\n\n\n- Initialisation $Z \\leftarrow X$\n- Tant que $Z$ grandit : pour $i=1,2,3$, $Z \\leftarrow Z \\cup\\bigl( (Z\\cap \\mathcal{A}_i)^+_\\Sigma\\cap \\mathcal{A}_i\\bigr)$\n  \nL'ensemble $Z$ obtenu est la fermeture recherchée\n\nL'intérêt de cet algorithme est qu'on ne calcule pas toutes les DF locales.\nSi au cours du calcul on obtient que $Y\\subset Z$, on peut conclure immédiatement que $X\\to Y$ est préservée.\n\n\n\n- $\\Sigma=\\left\\{B\\rightarrow E, CE\\rightarrow A\\right\\}$\n  + $CE\\to A$ est préservée puisqu'elle est locale à $\\mathcal{A}_3$.\n  + $B\\to E$ n'est pas préservée puisque  \n$(B\\cap\\mathcal{A}_1)^+\\cap\\mathcal{A}_1=B^+\\cap\\mathcal{A}_1=BE\\cap\\mathcal{A}_1=B$  \n$(B\\cap\\mathcal{A}_2)^+\\cap\\mathcal{A}_2=B^+\\cap\\mathcal{A}_2=BE\\cap\\mathcal{A}_2=B$  \n$(B\\cap\\mathcal{A}_3)^+\\cap\\mathcal{A}_3=\\emptyset$\n\n- $\\Sigma=\\left\\{AC\\rightarrow E, BC\\to D\\right\\}$ est préservé puisqu'il ne contient que des DF locales.\n- $\\Sigma=\\left\\{A\\rightarrow D, D\\to E, B\\to D\\right\\}$  \n$B\\to D$ est préservée\n- $\\Sigma=\\left\\{A\\rightarrow D, CD\\to E, E\\to D\\right\\}$  \nAucune DF n'est préservée\n\n\n:::\n\n:::\n\n\n\n\n### Exercice\n\nOn considère le schéma de relation suivant concernant la gestion de rendez-vous d'un service d'intervention hospitaliers.\n$$\n\\mathcal{A}=\\left\\{\\texttt{IdM,NomM,PrenomM,DateRV,HeureRV,IdP,NomP,PrenomP,IdInterV}\\right\\}\n$$\n\n\n\nChaque rendez-vous implique un médecin et  un patient. Chaque médecin est identifié par un numéro, `IdM`, un nom `NomM` et un prénom `PrenomM`. Le rendez-vous est à une date, `DateRV`, et à une heure,  `HeureRV` données. Chaque patient  est identifié par un numéro, `IdP`, un nom `NomP` et un prénom `PrenomP`. Chaque rv est programmé pour un type d'intervention médical, `IdInterV`. On suppose que chaque jour, un médecin ne peut pratiquer qu'un seul type d'intervention médicale (consultation, type de chirurgie donnée).\n\nOn a les dépendances fonctionnelles $\\Sigma$ suivantes:\n\n```\nIdM, DateRV,HeureRV, IdInterV → IdP\nIdM, DateRV →  IdInterV\nIdM → NomM, PrenomM\nIdP → NomP, PrenomP\nIdP,DateRV,HeureRV → IdInterV\nIdP,DateRV,HeureRV →  IdM,NomM\n```\t\n\n\n\n- Quels sont les inconvénients d'une telle modélisation par une seule table en terme d'anomalies d'insertion ou de suppression ?\n\n::: {.content-visible when-profile=\"solution\"}\n\n::: {.callout-tip title=\"Solution\"}\n\nA chaque nouveau rv inséré dans $R$, il faut rappeler les noms, prénoms des médecins et patients. Ce qui peut se traduire par des incohérences si cela n'est pas respecté. En cas de suppression d'un groupe de rv, on peut faire disparaitre l'ensemble des informations concernant un patient ou un médecin.\n\n:::\n\n:::\n\n\n- Calculer $[\\texttt{IdM}]^+_{\\Sigma}$\n\n::: {.content-visible when-profile=\"solution\"}\n\n::: {.callout-tip title=\"Solution\"}\n\n$[IdM]^+_{\\Sigma}= \\{  \\texttt{IdM, NomM, PrenomM}\\}$\n:::\n\n:::\n\n\n- Proposez un ensemble d'attributs formant une clé de la relation.\n\n::: {.content-visible when-profile=\"solution\"}\n\n::: {.callout-tip title=\"Solution\"}\n\nIl y a plusieurs clés possibles. Par exemple, `{IdM, DateRV, HeureRV}` mais aussi  `{IdP, DateRV, HeureRV}`.\n\n:::\n\n:::\n\n- Donner un ensemble de dépendances fonctionnelles $\\Sigma'$ équivalent à $\\Sigma$ qui soit minimal (i.e. sans règles redondantes, notamment). Justifiez\n\n::: {.content-visible when-profile=\"solution\"}\n\n::: {.callout-tip title=\"Solution\"}\n\n```\nIdM, DateRV, HeureRV → IdP\nIdP, DateRV, HeureRV → IdM\nIdM, DateRV → IdInterV\nIdM → NomM\nIdM → PrenomM\nIdP → NomP\nIdP → PrenomP\n```\n\n<!-- `IdP,DateRV,HeureRV → IdInterV` se déduit de -->\n<!--  IdP, DateRV, HeureRV → IdM` et `IdM, DateRV → IdInterV`-->\n\n\n:::\n\n:::\n\nOn se donne la décomposition de $\\mathcal{A}$ suivante~:\n$$\n\\begin{array}{l}\n\t\\mathcal{A}_1=\\left\\{\\texttt{IdM,HeureRV,DateRV,IdP,NomP,PrenomP}\\right\\},\\\\\n\t \\mathcal{A}_2=\\left\\{\\texttt{IdM,DateRV,IdInterV}\\right\\},\\\\ \n\t \\mathcal{A}_3=\\left\\{\\texttt{IdM,NomM,PrenomM}\\right\\}\n\\end{array}\n$$\n\n- Toutes les dépendances fonctionnelles sont-elles préservées par cette décomposition ?\n\n- Est-elle sans perte d'information ?\n\n- Pour $i=1,2,3$, déterminer si $\\mathcal{A}_i$ est en forme normale de Boyce-Codd.\n\n::: {.content-visible when-profile=\"solution\"}\n\n::: {.callout-tip title=\"Solution\"}\n\n*Préservation des DF*\n\nLes dépendances de  Σ' sont locales aux $\\mathcal{A}_i$, elles sont \ndonc préservées. \n\n\n<!-- (b), (c), (d) sont préservées puisque locales.\n\nEst-ce que (e) est préservée~? \n\nInitialisation $Z:=\\left\\{idP,DateRV,HeureRV\\right\\}$\\\\\n$(Z\\cap\\mathcal{A}_1)^+\\cap\\mathcal{A}_1=\\left\\{idP,DateRV,HeureRV\\right\\}^+\\cap\\mathcal{A}_1=\\mathcal{A}\\cap\\mathcal{A}_1=\\mathcal{A}_1$, donc $Z:=\\mathcal{A}_1$.\\\\\n$(Z\\cap\\mathcal{A}_2)^+\\cap\\mathcal{A}_2=\\left\\{idM,DateRV\\right\\}^+\\cap\\mathcal{A}_2=\\mathcal{A}_2$ qui contient $IdInterV$.\nOn conclut que (e) est préservée.\\\\\n\nEst-ce que (f) est préservée~? \n\nInitialisation $Z:=\\left\\{idP,DateRV,HeureRV\\right\\}$\\\\\n$(Z\\cap\\mathcal{A}_1)^+\\cap\\mathcal{A}_1=\\left\\{idP,DateRV,HeureRV\\right\\}^+\\cap\\mathcal{A}_1=\\mathcal{A}\\cap\\mathcal{A}_1=\\mathcal{A}_1$, donc $Z:=\\mathcal{A}_1$.\\\\\n$(Z\\cap\\mathcal{A}_3)^+\\cap\\mathcal{A}_3=\\left\\{idM\\right\\}^+\\cap\\mathcal{A}_3=\\mathcal{A}_3$, donc $Z=\\mathcal{A}_1\\cup\\mathcal{A}_3$ qui contient $\\left\\{idM,NomM\\right\\}$.\nDonc (f) est préservée.\\\\\n\nEst-ce que (a) est préservée~?\\\\\n\nInitialisation $Z:=\\left\\{idM,DateRV,HeureRV, IdInterV\\right\\}$\\\\\n$(Z\\cap \\mathcal{A}_1)^+\\cap\\mathcal{A}_1=\\left\\{idM,DateRV,HeureRV\\right\\}^+\\cap\\mathcal{A}_1=\\mathcal{A}_1$\\\\ donc\n$Z:=\\left\\{idM,DateRV,HeureRV, IdInterV, IdP, NomP, PrenomP\\right\\}$\\\\\n$Z$ contient $IdP$ donc (a) est préservée.\\\\ -->\n\n*Décomposition SPI ?*\n\nOui, en utilisant seulement (b) et (c) dans l'algorithme de poursuite\\\\\n\n*$\\mathcal{A}_i$ est en FNBC~?*\\\\\n\nRappelons que, par définition, $\\mathcal{A}_i$ est en FNBC si et seulement pour toute DF $X\\to Y$ dans un ensemble équivalent à $\\pi_{\\mathcal{A}_i}(\\Sigma)$, soit $Y\\subset X$ (DF triviale) soit $Y$ est une super-clef pour $\\mathcal{A}_i$ relativement à $\\pi_{\\mathcal{A}_i}(\\Sigma)$. \n\nDonc $\\mathcal{A}_i$ est en FNBC si et seulement si pour tout $X\\subset \\mathcal{A}_i$, pour la DF locale\n$X\\to (X\\cap\\mathcal{A}_i)^+\\cap \\mathcal{A}_i$ on a $(X\\cap\\mathcal{A}_i)^+\\cap \\mathcal{A}_i = X$ (DF triviale) ou $(X\\cap\\mathcal{A}_i)^+\\cap \\mathcal{A}_i=\\mathcal{A}_i$\n (càd $X$ est une super-clef pour $\\mathcal{A}_i$).\n\nDe plus, on n'a pas besoin d'examiner les cas $X=\\emptyset$ ou $X=\\mathcal{A}_i$ ou $cardinal(X)=cardinal(\\mathcal{A}_i)-1$\n(dans le dernier cas $(X\\cap\\mathcal{A}_i)^+\\cap \\mathcal{A}_i=X$ ou $(X\\cap\\mathcal{A}_i)^+\\cap \\mathcal{A}_i=\\mathcal{A}_i$)\n\n\n*$\\mathcal{A}_1$ n'est pas en FNBC* car `IdP → NomP, PrenomP` est locale à $\\mathcal{A}_1$ et `IdP` n'est pas une super-clef de $\\mathcal{A}_1$.\n\n*$\\mathcal{A}_2$ est en FNBC* car:\n\n\n- `IdM^+ ∩ \\mathcal{A}_2 = {idM, NomM, PrenomM} ∩ \\mathcal{A}_2 =IdM` \n- $DateRV^+\\cap\\mathcal{A}_2=\\left\\{dateRV\\right\\}\\cap\\mathcal{A}_2=DateRV$\n- $IdInterV^+\\cap\\mathcal{A}_2=\\left\\{idInterV\\right\\}\\cap\\mathcal{A}_2=IdInterV$\\\\\n\n*$\\mathcal{A}_3$ est en FNBC* car :\n\n- $IdM^+\\cap\\mathcal{A}_3=\\left\\{idM,NomM,PrenomM\\right\\}\\cap\\mathcal{A}_3=\\mathcal{A}_3$\\\\\n- $NomM^+\\cap\\mathcal{A}_3=\\left\\{nomM\\right\\}\\cap\\mathcal{A}_3=NomM$\\\\\n- $PrenomM^+\\cap\\mathcal{A}_3=\\left\\{prenomM\\right\\}\\cap\\mathcal{A}_3=PrenomM$\n\n:::\n\n:::\n\n\n- Mêmes questions pour la décomposition :\n\n$$\n\\begin{array}{rl}\n\\mathcal{A}_1 &=\\left\\{\\texttt{IdM,HeureRV,DateRV,IdP}\\right\\}\\\\\n\\mathcal{A}_2 &=\\left\\{\\texttt{IdP,NomP,PrenomP}\\right\\}, \\\\\n\\mathcal{A}_3 &=\\left\\{\\texttt{IdM,DateRV,IdInterV}\\right\\},\\\\\n\\mathcal{A}_4 &=\\left\\{\\texttt{IdM,NomM,PrenomM}\\right\\}\n\\end{array}\n$$\n\n\n::: {.content-visible when-profile=\"solution\"}\n\n::: {.callout-tip title=\"Solution\"}\n\nLa décomposition est SPI.\n$$\n\\begin{array}{|c|c|c|c|c|c|c|c|c|c|}\n\\hline  & IdM & NomM & PrenomM & DateRV & HeureRV & IdP & NomP & PrenomP & IdInterV \\\\\\hline\n\\hline \\mathcal{A}_1  & a & b_1 &  c_1& d & e & f & g_1 & h_1 & i_1 \\\\\n\\hline  \\mathcal{A}_2 & a_2 & b_2 & c_2 & d_2 & e_2 & f & g & h & i_2 \\\\\n\\hline \\mathcal{A}_3 & a & b_3 & c_3 & d & e_3 & f_3 & g_3 & h_3 & i \\\\\n\\hline \\mathcal{A}_4 & a & b & c & d_4 & e_4 & f_4 & g_4 & h_4 & i_4\\\\\n\\hline\n\\end{array}\n$$\n(c) donne $b_1=b$ et $c_1=c$. (d) donne $g_1=g$ et $h_1=h$. (b) donne $i_1=i$.\nLa première ligne est $(a,b,\\dots,i)$.\\\\\n\\textit{Préservation des DF}\\\\\n(b), (c), (d) sont préservées puisque locales.\\\\\nEst-ce que (e) est préservée~? Initialisation $Z:=\\left\\{idP,DateRV,HeureRV\\right\\}$\\\\\n$(Z\\cap\\mathcal{A}_1)^+\\cap\\mathcal{A}_1=\\left\\{idP,DateRV,HeureRV\\right\\}^+\\cap\\mathcal{A}_1=\\mathcal{A}\\cap\\mathcal{A}_1=\\mathcal{A}_1$, donc $Z:=\\mathcal{A}_1$.\\\\\n$(Z\\cap\\mathcal{A}_3)^+\\cap\\mathcal{A}_3=\\left\\{idM,DateRV\\right\\}^+\\cap\\mathcal{A}_3=\\mathcal{A}_3$ qui contient $IdInterV$.\nOn conclut que (e) est préservée.\\\\\n(f) est préservée car (f) est impliquée par $IdP,DateRV,HeureRV\\to IdM$ (locale à $\\mathcal{A}_1$) et (c).\nEst-ce que (a) est préservée~? Initialisation $Z:=\\left\\{idM,DateRV,HeureRV,IdInterV\\right\\}$\\\\\n$(Z\\cap\\mathcal{A}_1)^+\\cap\\mathcal{A}_1=\\left\\{idM,DateRV,HeureRV\\right\\}^+\\cap\\mathcal{A}_1=ALL\\cap\\mathcal{A}_1=\\mathcal{A}_1$ qui contient $IdP$.\nDonc (a) est préservée.\\\\\n\\textit{Montrons que tous les $\\mathcal{A}_i$ sont en FNBC.}\\\\\n\\textit{$\\mathcal{A}_1$ est en FNBC} car\\\\\n$IdM^+\\cap\\mathcal{A}_1=IdM$, $HeureRV^+\\cap\\mathcal{A}_1=HeureRV$, $DateRV^+\\cap\\mathcal{A}_1=DateRV$, $IdP^+\\cap\\mathcal{A}_1=IdP$\\\\\n$\\left\\{idM,HeureRV\\right\\}^+\\cap\\mathcal{A}_1=\\left\\{idM,HeureRV\\right\\}$, $\\left\\{idM,DateRV\\right\\}^+\\cap\\mathcal{A}_1=\\left\\{idM,DateRV\\right\\}$,\n$\\left\\{idM,IdP\\right\\}^+\\cap\\mathcal{A}_1=\\left\\{idM,IdP\\right\\}$, $\\left\\{heureRV,DateRV\\right\\}^+\\cap\\mathcal{A}_1=\\left\\{heureRV,DateRV\\right\\}$, $\\left\\{heureRV,IdP\\right\\}^+\\cap\\mathcal{A}_1=\\left\\{heureRV,IdP\\right\\}$, $\\left\\{dateRV, IdP\\right\\}^+\\cap\\mathcal{A}_1=\\left\\{dateRV, IdP\\right\\}$\\\\\n\\textit{$\\mathcal{A}_2$ est en FNBC} car\\\\\n$IdP^+\\cap\\mathcal{A}_2=\\mathcal{A}_2$, $NomP^+\\cap\\mathcal{A}_2=NomP$, $PrenomP^+\\cap\\mathcal{A}_2=PrenomP$\\\\\n\\textit{$\\mathcal{A}_3$ est en FNBC} car\\\\\n$IdM^+\\cap\\mathcal{A}_3=IdM$, $DateRV^+\\cap\\mathcal{A}_3=DateRV$, $IdInterV^+\\cap\\mathcal{A}_3=IdInterV$\\\\\n\\textit{$\\mathcal{A}_4$ est en FNBC} car\\\\\n$IdM^+\\cap\\mathcal{A}_4=\\mathcal{A}_4$, $NomM^+\\cap\\mathcal{A}_4=NomM$, $PrenomM^+\\cap\\mathcal{A}_4=PrenomM$\n\n:::\n\n:::\n\n\n### Exercice\n\nSoit une relation concernant des personnes résidant en France avec les attributs suivants:\n```\nNom, Numéro de sécurité sociale, Commune, Département, Code postal, Numéro de téléphone\n```\navec l'ensemble $\\Sigma$ de DF suivantes~:\n\n```\nNuméro de sécurité sociale → Nom, Commune, Département, Code postal, Numéro de téléphone \nCommune → Département \nCode postal → Commune, Département\n```\n\n- Ce schéma est-il en forme normale de Boyce-Codd ?\n\nSoit la décomposition\n$$\\mathcal{A}_1=\\left\\{\\texttt{Code postal}, \\texttt{Commune}, \\texttt{Département}\\right\\}$$\net\n$$\\mathcal{A}_2=\\left\\{\\texttt{Numéro de sécurité sociale}, \\texttt{Nom}, \\texttt{Code postal},\\texttt{Numéro de téléphone}\\right\\}$$\n\n- Chaque $\\mathcal{A}_i$ est-elle en forme normale de Boyce-Codd ?\n- Cette décomposition préserve-t-elle les dépendances fonctionnelles ?\n- Cette décomposition est-elle sans perte d'information ?\n\n- Mêmes questions pour la décomposition\n$$\\mathcal{A}_1=\\left\\{\\texttt{Commune}, \\texttt{Département}\\right\\}$$\n\n$$\\mathcal{A}_2=\\left\\{\\texttt{Numéro de sécurité sociale}, \\texttt{Nom}, \\texttt{Commune}, \\texttt{Code postal},\\texttt{Numéro de téléphone}\\right\\}$$\n\n\n\n::: {.content-visible when-profile=\"solution\"}\n\n::: {.callout-tip title=\"Solution\"}\n\n\n\n- Non, car on a $\\texttt{Commune} \\to \\texttt{Département}$ et $\\texttt{Commune}$ n'est pas une clef.\n- $\\mathcal{A}_1$ n'est pas en FNBC car $\\texttt{Commune} \\to \\texttt{Département}$ est locale à $\\mathcal{A}_1$ et $\\texttt{Commune}$ n'est pas une clef de $\\mathcal{A}_1$.\\\\\n$\\mathcal{A}_2$ est en FNBC puisque $\\pi_{\\mathcal{A}_2}(\\Sigma)$ est équivalent à\\\\\n$\\left\\{\\texttt{Numéro de sécurité sociale}\\to \\texttt{Nom, Code postal, Numéro de téléphone }\\right\\}$\\\\\nLes DF sont préservées car $\\Sigma$ est équivalent à\\\\\n$$\\{\\texttt{Numéro de sécurité sociale}\\to \\texttt{Nom, Code postal, Numéro de téléphone }\\};$$\n$$\\texttt{Commune}\\to\\texttt{Département} ;\\texttt{Code postal}\\to\\{\\texttt{Commune, Département}\\}$$\nqui ne contient que des DF locales.\\\\\nLa décomposition est SPI.\n- $\\mathcal{A}_1$ est en FNBC car $\\mathcal{A}_2$ est de cardinal 2.\\\\\n$\\mathcal{A}_2$ n'est pas en FNBC car $\\texttt{CodePostal} \\to \\texttt{Département}, \\texttt{Commune}$ est locale et $\\texttt{CodePostal}$ n'est pas une clé de $\\mathcal{A}_2$\\\\\nLa décomposition est SPI et préserve les DF.\n\n\n:::\n\n:::\n\n\n\n### Exercice\n\nSoit un schéma d'attributs $A_1, A_2,\\dots A_n$ et un ensemble de dépendances fonctionnelles.\nCalculer le nombre de super-clefs (en fonction de $n$) dans les cas suivants~:\n\n\n- La seule clef est $\\left\\{A_1\\right\\}$.\n- Les seules clefs sont $\\left\\{A_1\\right\\}$ et $\\left\\{A_2\\right\\}$.\n- Les seules clefs sont $\\left\\{A_1,A_2\\right\\}$ et $\\left\\{A_3,A_4\\right\\}$.\n- Les seules clefs sont $\\left\\{A_1,A_2\\right\\}$ et $\\left\\{A_1,A_3\\right\\}$.\n\n\n::: {.content-visible when-profile=\"solution\"}\n\n::: {.callout-tip title=\"Solution\"}\n\n\n\n- $2^{n-1}$\n- $2^{n-2} + 2^{n-2} + 2^{n-2}$\n- $2^{n-4}Titremes 3Titremes 2 + 2^{n-4}$\n- $3Titremes 2^{n-3}$\n\n:::\n\n:::\n\n\n\n\n### Exercice\n\nSoit le schéma $\\mathcal{A}=\\{A,B,C,D\\}$ et l'ensemble de dépendances fonctionnelles\n$$\\Sigma = \\{ A \\to B, B \\to C\\} $$\n\n\n\n- Quelle est la fermeture $\\{A\\}^+$ de $\\{A\\}$ ?\n\n::: {.content-visible when-profile=\"solution\"}\n\n::: {.callout-tip title=\"Solution\"}\n\nInitialisation :  $X  =\\{A\\}$\n\nEtape 1 : Il existe une DF dont la partie gauche est incluse dans $ X$ : $A \\to B$.  On rajoute les attributs en partie droite.\n\nD'où $X  = \\{A, B\\}$\n\nEtape 2: Il existe une DF dont la partie gauche est incluse dans  $ X$ : $B \\to C$.  On rajoute les attributs en partie droite.\n\nD'où $X  = \\{A,B,C\\}$.\n\nC'est fini, plus de DF à utiliser. Conclusion $\\left\\{A\\right\\}^+=\\left\\{A,B,C\\right\\}$\n:::\n\n:::\n\n\n-  Quelles sont les super-clés ? Les clés ?\n\n::: {.content-visible when-profile=\"solution\"}\n\n::: {.callout-tip title=\"Solution\"}\n\nUne clef doit contenir $\\left\\{A,D\\right\\}$ puis ces deux attributs ne sont à droite d'aucune DF de $\\Sigma$.\nDe plus $\\left\\{A,D\\right\\}^+=\\left\\{A,B,C,D\\right\\}$.\nLa seule clef est donc $\\{A,D\\}$.\n\n:::\n\n:::\n\n\n\n### Exercice\n\nSoit le schéma $\\mathcal{A}=\\{A,B,C,D,E,F\\}$ et l'ensemble de dépendances fonctionnelles\n$$\\Sigma = \\Bigl\\{ \\left\\{A,B\\right\\}\\to C, \\left\\{B,C\\right\\}\\to \\left\\{A,D\\right\\}, D\\to E, \\left\\{C,F\\right\\}\\to B \\Bigr\\}$$\n\n\n- Calculer la fermeture $\\left\\{A,B\\right\\}^+$ de $\\left\\{A,B\\right\\}$.\n- Est-ce que $\\Sigma$ implique la dépendance fonctionnelle $\\left\\{A,B\\right\\}\\to D$~?\n- Est-ce que $\\Sigma$ implique la dépendance fonctionnelle $D\\to A$~?\n\n\n::: {.content-visible when-profile=\"solution\"}\n\n::: {.callout-tip title=\"Solution\"}\n\n\n\n- On obtient $\\left\\{A,B\\right\\}^+=\\left\\{A,B,C,D,E\\right\\}$.\n- Oui car $D\\in\\left\\{A,B\\right\\}^+$\n- Non car $\\left\\{D\\right\\}^+=\\left\\{D,E\\right\\}$ ne contient pas $A$.\n\n:::\n\n:::\n\n\n\n\n\n\n\n\n\n<!-- %\\iffalse\n%\\subsection{Exercice 5 : Normalisation avancée}\n%\n%Nous voulons mettre en forme la base de données \\lstinline|UFR| dont le schéma est :\n%\\begin{verbatim}\n%UFR(NoTD, Salle, Jour, Heure,\n%    NoEnseignant, Nom_Enseignant, Prenom_Enseignant,\n%    COD_MOD, Diplome, Matiere, NoEtudiant,\n%    Nom_Etudiant, PreNom_Etudiant, Adresse, Date_Inscription)\n%\\end{verbatim}\n%\n%Sachant que :\n%\\begin{itemize}\n%\t- Un code module (\\lstinline|COD_MOD|) précise à la fois un diplôme et une matière.\n%\t- Les TD sont annuels et il y a un et un seul TD par semaine dans chaque module.\n%\t- Un TD est assuré par un seul enseignant.\n%\t- Un numéro de TD est relatif à un module.\n%\t- Un enseignant peut assurer plusieurs TD.\n%\t- Un étudiant peut être inscrit dans plusieurs modules, mais dans un seul TD par module.\n%\t- \\lstinline|Date_Inscription| est la date d'inscription d'un étudiant à un module.\n%\\end{itemize}\n%\n%Les dépendances fonctionnelles associées à ce schéma sont :\n%\n\n%\t- \\lstinline|NoEtudiant| $\\rightarrow$ \\lstinline|Nom_Etudiant, PreNom_Etudiant, Adresse|\n%\t- \\lstinline|NoEnseignant|$\\rightarrow$\\lstinline|Nom_Enseignant, Prenom_Enseignant|\n%\t- \\lstinline|COD_MOD| $\\rightarrow$\\lstinline|Diplome,Matiere|\n%\t- \\lstinline|Diplome, matiere| $\\rightarrow$\\lstinline|COD_MOD|\n%\t- \\lstinline|Salle, Jour, Heure| $\\rightarrow$\\lstinline|NoTD, COD_MOD|\n%\t- \\lstinline|COD_MOD,NoTD|$\\rightarrow$\\lstinline|Salle, Jour, Heure, NoEnseignant|\n%\t- \\lstinline|COD_MOD,NoEtudiant|$\\rightarrow$\\lstinline|NoTD, Date_Inscription|\n%\t- \\lstinline|NoEnseignant, Jour, Heure|$\\rightarrow$\\lstinline|Salle|\n%\t- \\lstinline|NoEtudiant, Jour, Heure|$\\rightarrow$\\lstinline|Salle|\n%\t- \\lstinline|Salle, Jour, Heure| $\\rightarrow$ \\lstinline|NoEnseignant|\n%\t- \\lstinline|NoEnseignant, COD_MOD, NoTD|$\\rightarrow$\\lstinline|Salle, Jour, Heure|\n%\n%\n%\n\n%\t- Ce schéma a plusieurs anomalies. Donnez des exemples de redondances et de valeurs qui doivent être \\lstinline|NULL| à certains endroits.\n%\t- L'ensemble des dépendances est long. Peut-être trop ?\n%\t\\begin{parts}\n%\t\tPaysrt Calculer les clôtures transitives de \\lstinline|NoEnseignant| et du triplet \\lstinline|Diplome, NoEtudiant, matiere|.\n%\t\t::: {.content-visible when-profile=\"solution\"}\n\n::: {.callout-tip title=\"Solution\"}\n\n%\t\t\t\t\\lstinline|[NoEnseignant]|$_+ = \\{\\, $\\lstinline|NoEnseignant,Nom_Enseignant, Prenom_Enseignant|$\\,\\}$\n%\n%\t\t\t\t\\lstinline|[Diplome, NoEtudiant, matiere]|$_+ = \\{\\, $\\lstinline|Diplome, NoEtudiant, matiere,COD_MOD,NoTD,| \\\\\n%\t\t\t\t\\lstinline|Date_Inscription,Nom_Etudiant, PreNom_Etudiant,adresse|$\\,\\}$\n%\t\t:::\n%\t\tPaysrt Les dépendances\n%\t\t\\begin{itemize}\n%\t\t\t- \\lstinline|Salle, Jour, Heure| $\\rightarrow$ \\lstinline|NoEnseignant|,\n%\t\t\t- \\lstinline|NoEnseignant, COD_MOD, NoTD|$\\rightarrow$\\lstinline|Salle, Jour, Heure|\n%\t\t\t- \\lstinline|COD_MOD,NoTD|$\\rightarrow$\\lstinline|Salle|\n%\t\t\\end{itemize}\tsont-elles redondantes ? En déduire un ensemble minimal de dépendances fonctionnelles.\n%\t\t::: {.content-visible when-profile=\"solution\"}\n\n::: {.callout-tip title=\"Solution\"}\n\n%\t \tLes deux premières sont redondantes. La première est déductible de la $(e)$ et $(f)$. La deuxième de la $(f)$.\tIl suffit de les enlever pour trouver un ensemble minimal.\n%\t\t:::\n%\t\tPaysrt Donnez au moins trois clefs différentes de cette relation.\n%\t\t::: {.content-visible when-profile=\"solution\"}\n\n::: {.callout-tip title=\"Solution\"}\n\n%\t\t\t\\begin{verbatim}\n%\t\t\t\t(NoEtudiant,COD_MOD)\n%\t\t\t\t(NoEtudiant,Diplome,Matiere)\n%\t\t\t\t(NoEtudiant,Jour,Heure)\n%\t\t\t\\end{verbatim}\n%\t\t:::\n%\t\\end{parts}\n%\n%%\t\\newpage\n%\tOn veut maintenant couper le schéma pour éviter ces anomalies. On veut que cette découpe vérifie les conditions suivantes :\n%\t\n[(i)]\n%\t\t- Qu'elle se fasse sans pertes d'informations.\n%\t\t- Qu'elle préserve les dépendances fonctionnelles.\n%\t\t- Qu'elle n'ait plus besoin de \\lstinline|NULL|.\n%\t\t- Qu'elle minimise les redondances.\n%\t\t- Et idéalement qu'elle respecte l'une des formes normales.\n%\t\n%\n%\t-\n%\tDonnez des clefs pour ces relations. Dites lesquelles des 5 conditions la décomposition suivante respecte. Dessinez les pattes de corbeaux associées.\n%\t\\begin{verbatim}\n%\t\tTD(NoTD, COD_MOD, Jour, Heure, Salle, No_Enseignant,\n%\t\t   Nom_Enseignant, Prenom_Enseignant)\n%\n%\t\tINSCRIPTION(NoEtudiant, Nom_Etudiant, PreNom_Etudiant, Adresse,\n%\t\t            COD_MOD, Diplome, Matiere, Date_Inscription, NoTD)\n%\t\\end{verbatim}\n%\t::: {.content-visible when-profile=\"solution\"}\n\n::: {.callout-tip title=\"Solution\"}\n\n%\t\tUne clef de \\lstinline|TD| est \\lstinline|(COD_MOD, NoTD)|. Une de \\lstinline|Inscription| est \\lstinline|(NoEtudiant,COD_MOD)|\n%\t\t\n\n%\t\t\t- Sans perte d'information : oui, cf. algo\n%\t\t\t- Préserve les DF : non. La dépendance $(i)$, \\lstinline|NoEtudiant, Jour, Heure| $\\rightarrow$ \\lstinline|Salle| n'est pas conservée. Les dépendances fonctionnelles dont tous les arguments sont dans une même table sont conservées. Les autres doivent pouvoir se déduire de celles conservées.\n%\t\t\t- Non. si on veut parler d'un enseignant qui n'a pas de cours par exemple\n%\t\t\t- Non :  pour chaque module d'un étudiant on doit répéter l'adresse de l'étudiant.\n%\t\t\t- 1er FN oui. Pas en FN 2 (\\lstinline|TD| oui mais \\lstinline|INSCRIPTION| non car \\lstinline|Diplome, Matiere| ne font pas partie d'une clef mais dépendent de \\lstinline|COD_MOD|, qui est une partie stricte d'une clef). Pas en FN 3 (\\lstinline|COD_MOD| $\\rightarrow$ \\lstinline|Diplome, matiere| la partie gauche ne contient pas de clef, et la partie droite n'est pas contenue dans une clef.)\n%\t\t\n%\t:::\n%\t-\n%\tDonnez des clefs pour ces relations. Dites lesquelles des 5 conditions la décomposition suivante respecte. Dessinez les pattes de corbeaux associées.\n%\t\\begin{verbatim}\n%\t\tENSEIGNEMENT(NoTD, COD_MOD, Jour, Heure, Salle,\n%\t\t             No_Enseignant, Nom_Enseignant, Prenom_Enseignant)\n%\t\tETUDIANT(NoEtudiant, Nom_Etudiant, PreNom_Etudiant, Adresse)\n%\t\tINSCRIPTION(NoEtudiant, COD_MOD, Date_Inscription, NoTD)\n%\t\tMODULE(COD_MOD, Diplome, Matiere)\n%\t\\end{verbatim}\n%\t::: {.content-visible when-profile=\"solution\"}\n\n::: {.callout-tip title=\"Solution\"}\n\n%\n%\t\t\n\n%\t\t\t- Sans perte d'information : oui, cf. algo\n%\t\t\t- Préserve les DF : non.\n%\t\t\t- Non. si on veut parler d'un enseignant qui n'a pas de cours par exemple\n%\t\t\t- Non :  pour chaque module on doit répéter le nom et le prénom d'un enseignant.\n%\t\t\t- 1er FN oui. Pas en FN 2 Pas en FN 3\n%\t\t\n%\t:::\n%\t-\n%\tDonnez des clefs pour ces relations. Dites lesquelles des  5 conditions la décomposition suivante respecte. Dessinez les pattes de corbeaux associées.\n%\t\\begin{verbatim}\n%\t\tENSEIGNEMENT_PLANNING(NoEnseignant, Nom_Enseignant,\n%\t\t            Prenom_Enseignant, Jour, Heure, NoTD, COD_MOD)\n%\n%\t\tENSEIGNEMENT_SALLE(NoEnseignant, Jour, Heure, Salle)\n%\n%\t\tETUDIANT_INSCRIPTION(NoEtudiant, Nom_Etudiant, PreNom_Etudiant,\n%\t\t            Adresse, NoTD, COD_MOD, Date_Inscription, Diplome, Matiere)\n%\n%\t\tEtudiant_Planning(NoEtudiant, Jour, Heure, COD_MOD)\n%\t\\end{verbatim}\n%\n%\t- Proposez une décomposition qui satisfait les 5 conditions. Donnez les clefs et les pattes de corbeaux.\n%\n%\\fi\n -->\n\n### Exercice\n\nOn considère une schéma $\\mathcal{A}$ avec les attributs\n```\nPropriétaire, Occupant, Adresse, Noapt, Nbpièces, Nbpersonnes\n```\nUn nuplet/tuple  `(p, o, a, n, nb1, nb2)` ayant la signification suivante : La personne `o` habite avec `nb2` personnes l'appartement de numéro `n` ayant `nb1` pièces dont le propriétaire est `p`.\n\nUne analyse de cette relation nous fournit un ensemble initial $\\Sigma$ de dépendances fonctionnelles \n\n```\nOccupant → Adresse\nOccupant → Noapt\nOccupant → Nbpersonnes\nAdresse, Noapt → Proprietaire\nAdresse, Noapt → Occupant\nAdresse, Noapt → Nbpieces\n```\n\n- Déterminer les clés du schémas\n- Les schéma est-il en FN3 ?\n- Si la réponse est Non, décomposer sans perte d'information et sans perte de dépendances fonctionnelles.\n\n\n### Exercice\n\n\n\n<!-- \\newcommand{IdLivre}{\\mathsf{IdLivre}}\n\\newcommand{Titre}{\\mathsf{Titre}}\n\\newcommand{IdTraducteur}{\\mathsf{IdTraducteur}}\n\\newcommand{Langue}{\\mathsf{Langue}}\n\\newcommand{Pays}{\\mathsf{Pays}}\n\\newcommand{Nom}{\\mathsf{Nom}}\n\\newcommand{Date}{\\mathsf{Date}} -->\n\n\nSoit le schéma\n$$\\mathcal{A}=\\{\\texttt{IdLivre, Titre, Langue, Pays, IdTraducteur, Nom, Date}\\}$$\net l'ensemble de DF\n\n```\nIdLivre → Titre \nLangue → Pays \nIdTraducteur → Nom \nIdLivre, IdTraducteur, Langue → Date\nIdLivre, IdTraducteur → Langue\n```\nAppliquer l'algorithme de décomposition vu en cours pour obtenir une décomposition de $\\mathcal{A}$\nqui respecte la FNBC et est sans perte d'information. Déterminer quelles DF sont préservées.\n\n\n::: {.content-visible when-profile=\"solution\"}\n\n::: {.callout-tip title=\"Solution\"}\n\n$\\texttt{IdLivre}^+=\\texttt{IdLivre, Titre}$\n$$ \\mathcal{A}_1=\\texttt{IdLivre,Titre} \\quad \\mathcal{A}_2=\\texttt{IdLivre, Langue, Pays, IdTraducteur, Nom, Date}$$\n$\\texttt{Langue}^+= \\texttt{Langue, Pays}$\n$$ \\mathcal{A}_{2,1}=\\texttt{Langue, Pays} \\quad \\mathcal{A}_{2,2}=\\texttt{IdLivre, Langue, IdTraducteur, Nom, Date} $$\n$\\texttt{IdTraducteur}^+=\\texttt{IdTraducteur, Nom}$\n$$ \\mathcal{A}_{221}=\\texttt{IdTraducteur, Nom} \\quad \\mathcal{A}_{222}=\\texttt{IdLivre,Langue, IdTraducteur, Date}$$\nLa décomposition FNBC obtenue est\n$$ \\{\\texttt{IdLivre,Titre} \\}\\quad \\{\\texttt{Langue, Pays}\\} \\quad \\{\\texttt{IdTraducteur, Nom}\\} \\quad \\{\\texttt{IdLivre,Langue, IdTraducteur, Date}\\}$$\nqui préserve toutes les DF.\n\n:::\n\n:::\n\n\n### Exercice \n\nSoit le schéma\n$$\\mathcal{A}=\\left\\{\\texttt{A,B,C,D,E,F,G,H}\\right\\}$$\net l'ensemble de DF\n```\nBE → AC  \nB → H  \nF → CD  \nD → G\n```\n\n\n- Appliquer l'algorithme de décomposition vu en cours pour obtenir une décomposition de $\\mathcal{A}$\nqui respecte la FNBC et est sans perte d'information. Déterminer quelles DF sont préservées.\n- Peut-on, en ajoutant un sous-schéma à la décomposition, obtenir une décomposition FNBC sans perte d'information et sans perte de DF ?\n\n\n\n::: {.content-visible when-profile=\"solution\"}\n\n::: {.callout-tip title=\"Solution\"}\n\nRappelons l'algorithme pour décomposer un schéma $\\mathcal{A}$~:\n\n- On considère la décomposition initiale $\\rho=\\{\\mathcal{A}\\}$.\n- Tant qu'il existe un sous-schéma $\\mathcal{B}\\in\\rho$ et $X\\subset \\mathcal{B}$ tels que\n$X^+\\cap\\mathcal{B}\\not=X$ et $X^+\\cap\\mathcal{B}\\not=\\mathcal{B}$ (ce qui signifie que la DF locale $X\\to X^+\\cap\\mathcal{B}$ est une violation de FNBC pour $\\mathcal{B}$), on remplace $\\mathcal{B}$ par les deux sous-schémas\n$$\\mathcal{B}_1=X^+\\cap\\mathcal{B} \\text{ et } \\mathcal{B}_2=(\\mathcal{B}\\setminus X^+)\\cup X$$\nDe plus il n'y a pas besoin de considérer les parties $X\\subset\\mathcal{B}$ telles que $card(X)=card(\\mathcal{B})-1$\npuisque dans ce cas on $X^+\\cap \\mathcal{B}=X$ ou $X^+\\cap\\mathcal{B}=\\mathcal{B}$.\n\nIl est garanti que la décomposition finale est en FNBC et SPI. Par contre toutes les DF ne sont pas préservées en général. De plus on obtient, en général, des décompositions différentes si on change les DF (violant FNBC) utilisées.\n}\n- $BE^+=BEACH$ donc on remplace $\\mathcal{A}$ par\n$$ \\mathcal{A}_1=BEACH \\quad \\mathcal{A}_2=BDEFG$$\n$B^+=BH$ donc on remplace $\\mathcal{A}_1$ par\n$$\\mathcal{A}_{11}=BH \\quad \\mathcal{A}_{12}=BEAC$$\n$\\mathcal{A}_{11}$ est en FNBC car de cardinal 2. $\\mathcal{A}_{12}$ est en FNBC car\n$$B^+\\cap\\mathcal{A}_{12}=B, E^+\\cap\\mathcal{A}_{12}=E, A^+\\cap\\mathcal{A}_{12}=A, C^+\\cap\\mathcal{A}_{12}=C $$\n$$BE^+\\cap\\mathcal{A}_{12}=BEAC, BA^+\\cap\\mathcal{A}_{12}=BA, BC^+\\cap\\mathcal{A}_{12}=BC, EA^+\\cap\\mathcal{A}_{12}=EA, EC^+\\cap\\mathcal{A}_{12}=EC$$\n$$ AC^+\\cap\\mathcal{A}_{12}=AC$$\n$D^+=DG$ donc on remplace $\\mathcal{A}_2$ par\n$$\\mathcal{A}_{21}=DG \\quad \\mathcal{A}_{22}=BDEF$$\n$\\mathcal{A}_{21}$ est en FNBC car de cardinal 2.\n$F^+=CD$ donc on remplace $\\mathcal{A}_{22}$ par\n$$\\mathcal{A}_{221}=FD \\quad \\mathcal{A}_{222}=BEF$$\nqui sont tous deux en FNBC\n\nDécomposition obtenue~:\n```\nBH  BEAC  DG  FD  BEF\n```\n\nLa seule DF qui n'est pas préservée est $F\\to C$.\nToutes les variantes (en changeant les DF utilisées) que j'ai testées,\ndonne une décomposition qui ne préserve pas toutes les DF. Bien sûr ce n'est pas une preuve que l'algorithme ne peut pas donner une décomposition sans perte de DF.\n- En ajoutant $FC$ à la décomposition précédente, on obtient\n```\nBH   BEAC   DG   FD   BEF   FC\n```\nqui est en FNBC et préserve les DF. De plus elle est SPI puisque la décomposition initiale est SPI.\n($R \\bowtie \\pi_{FC}(R)=R$ pour toute relation $R$)\n\n:::\n\n:::\n\n\n\n### Exercice\nReprendre les questions de l'exercice précédent pour le schéma\n$$\\mathcal{A}=\\left\\{\\texttt{A,B,C,D,E,F,G,H}\\right\\}$$\net l'ensemble de DF\n```\nBE → AC  \nB → H\nF → CD\nD → G\nA→ E\n```\n\n\n::: {.content-visible when-profile=\"solution\"}\n\n::: {.callout-tip title=\"Solution\"}\n\n\n- De manière similaire à l'exercice précédent on arrive à\n```\nBH   BEAC   DG   FD   BEF\n```\nmais, ici, `BEAC` n'est pas en FNBC (les autres le sont).\n`A^+=AE` donc on remplace `BEAC` par `AE` et `ABC`.\nUne décomposition FNBC est donc\n`BH   AE   ABC   DG   FD   BEF`\nLes DF `BE → AC` et `F → C` ne sont pas préservées. Les autres sont préservées.\n\n- Il n'existe de décomposition FNBC qui préserve `BE → A`. En effet, si `BE → A`\nest préservée, il existe une DF locale à un sous-schéma $\\mathcal{B}$ de la forme `X → A`.\nCela implique que `BE ⊂ X` et donc `BEA ⊂ B`. Par suite $\\mathcal{B}$ n'est pas en FNBC à cause de $A^+=AE$.\n\n:::\n\n:::\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}